import{N as S}from"./chunk-GJO77I2I-029ca84b.js";import{r as b,y as O,f as j,j as v,b as x,R as h,z as y}from"./index-b0fe5e1f.js";function C(r){const{loading:e,src:o,srcSet:a,onLoad:s,onError:l,crossOrigin:u,sizes:f,ignoreFallback:d}=r,[c,g]=b.useState("pending");b.useEffect(()=>{g(o?"loading":"pending")},[o]);const t=b.useRef(),k=b.useCallback(()=>{if(!o)return;i();const n=new Image;n.src=o,u&&(n.crossOrigin=u),a&&(n.srcset=a),f&&(n.sizes=f),e&&(n.loading=e),n.onload=m=>{i(),g("loaded"),s==null||s(m)},n.onerror=m=>{i(),g("failed"),l==null||l(m)},t.current=n},[o,u,a,f,s,l,e]),i=()=>{t.current&&(t.current.onload=null,t.current.onerror=null,t.current=null)};return O(()=>{if(!d)return c==="loading"&&k(),()=>{i()}},[c,k,d]),d?"loaded":c}var L=(r,e)=>r!=="loaded"&&e==="beforeLoadOrError"||r==="failed"&&e==="onError";function N(r,e=[]){const o=Object.assign({},r);for(const a of e)a in o&&delete o[a];return o}var w=j(function(e,o){const{fallbackSrc:a,fallback:s,src:l,srcSet:u,align:f,fit:d,loading:c,ignoreFallback:g,crossOrigin:t,fallbackStrategy:k="beforeLoadOrError",referrerPolicy:i,...n}=e,m=a!==void 0||s!==void 0,p=c!=null||g||!m,F=C({...e,ignoreFallback:p}),R=L(F,k),I={ref:o,objectFit:d,objectPosition:f,...p?n:N(n,["onError","onLoad"])};return R?s||v(x.img,{as:S,className:"chakra-image__placeholder",src:a,...I}):v(x.img,{as:S,src:l,srcSet:u,crossOrigin:t,loading:c,referrerPolicy:i,className:"chakra-image",...I})});w.displayName="Image";function E(r=h){const e=r===h?y:()=>b.useContext(r);return function(){const{store:a}=e();return a}}const z=E();function D(r=h){const e=r===h?z:E(r);return function(){return e().dispatch}}const P=D();export{w as I,P as u};
